{% extends 'base.html' %}{% load static %} {% block title %} Product Category
{%endblock %} {%block content %}
<div class="container-fluid pt-5">
  <h2 class="pt-4">Register New Products</h2>
  <hr />
  <div>
    <form action="" method="post" enctype="multipart/form-data">
      <div class="row">
        <div class="col-md-6">
          <p>
            <label for="id_category">Category:</label>
            <select
              name="category"
              required
              id="id_category"
              class="form-control"
            >
              <option value="" selected>---------</option>
              {% for option in cat %}
              <option value="{{forloop.counter}}">{{option.name}}</option>
              {% endfor %}
            </select>
          </p>
          <p>
            <label for="id_name">Name:</label>
            <input
              type="text"
              name="name"
              maxlength="20"
              required
              id="id_name"
              class="form-control"
            />
          </p>
        </div>
        <div class="col-md-6">
          <p>
            <label for="id_price">Price:</label>
            <input
              type="number"
              name="price"
              min="0"
              required
              id="id_price"
              class="form-control"
            />
          </p>

          <p>
            <label for="id_image">Image:</label>
            <input
              type="file"
              name="image"
              accept="image/*"
              required
              id="id_image"
              class="form-control"
            />
          </p>
        </div>
      </div>

      {% csrf_token %}
      <button class="btn btn-success">Add Product</button>
    </form>
  </div>
  <div class="pt-5">
    <table class="table">
      <tr>
        <th>S/N</th>
        <th>Product</th>
        <th>Category</th>
        <th>Price</th>
        <th>Date</th>
        <th>Actions</th>
        <th></th>
      </tr>
      {% for prod in product %}
      <tr>
        <td>{{forloop.counter}}</td>
        <td>{{prod.name}}</td>
        <td>{{prod.category}}</td>
        <td>{{prod.price}}</td>
        <td>{{prod.date}}</td>
        <td>
          <a href="/product/update/{{prod.pk}}" class="btn btn-primary"
            >Update</a
          >
          |
          <a href="/product/delete/{{prod.pk}}" class="btn btn-danger"
            >Delete</a
          >
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}
